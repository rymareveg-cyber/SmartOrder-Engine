# Переменные окружения для SmartOrder Engine
# Скопируйте этот файл в .env и заполните реальными значениями

# ===========================================
# 1С:Управление небольшой фирмой
# ===========================================
# Базовый URL 1С HTTP Service
# Пример: http://1c-server:80 или http://192.168.1.100:80
# Если используется Universal 1C HTTP API Bridge, endpoint будет: /hs/api/get/catalog/
# Примечание: порт 80 - стандартный HTTP порт, может быть опущен в URL
ONEC_BASE_URL=http://localhost:80

# Учетные данные для Basic Auth
ONEC_USERNAME=admin
ONEC_PASSWORD=password

# ===========================================
# База данных PostgreSQL
# ===========================================
# Строка подключения к PostgreSQL
# Формат: postgresql://user:password@host:port/database
# Пример: postgresql://smartorder:password@localhost:5432/smartorder
DATABASE_URL=postgresql://smartorder:password@localhost:5432/smartorder

# ===========================================
# Redis
# ===========================================
# Строка подключения к Redis (опционально, для кэширования)
# Формат: redis://host:port/db
# Пример: redis://localhost:6379/0
# Если Redis недоступен, кэширование отключится автоматически
REDIS_URL=redis://localhost:6379/0

# ===========================================
# Настройки синхронизации каталога
# ===========================================
# Интервал синхронизации каталога из 1С (в минутах)
# Рекомендуемое значение: 30 минут
SYNC_INTERVAL_MINUTES=30

# TTL кэша в Redis (в секундах)
# Рекомендуемое значение: 300 секунд (5 минут)
CACHE_TTL=300

# ===========================================
# Логирование
# ===========================================
# Уровень логирования: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# ===========================================
# API Server
# ===========================================
# Порт для FastAPI сервера каталога
API_PORT=8025

# Хост для FastAPI сервера
API_HOST=0.0.0.0

# ===========================================
# Telegram Bot
# ===========================================
# Токен бота от @BotFather
# Получить можно здесь: https://t.me/BotFather
TELEGRAM_BOT_TOKEN=your-telegram-bot-token-here

# ID администратора для уведомлений об ошибках
# Узнать свой ID можно через @userinfobot
TELEGRAM_ADMIN_ID=your-telegram-admin-id-here

# ===========================================
# Яндекс.Почта IMAP
# ===========================================
# IMAP сервер Яндекс.Почты
YANDEX_MAIL_IMAP_HOST=imap.yandex.ru

# Email для мониторинга входящих писем
YANDEX_MAIL_EMAIL=your-email@yandex.ru

# Пароль от почты или app password
# Для Яндекс.Почты рекомендуется использовать app password
# Настройки → Пароли и авторизация → Пароли приложений
YANDEX_MAIL_PASSWORD=your-password-or-app-password

# Папка для мониторинга (по умолчанию INBOX)
YANDEX_MAIL_FOLDER=INBOX

# Интервал опроса писем в секундах (по умолчанию 120 секунд = 2 минуты)
YANDEX_MAIL_POLL_INTERVAL=120

# Whitelist отправителей (опционально, через запятую)
# Если указан, обрабатываются только письма от этих адресов
# Пример: YANDEX_MAIL_WHITELIST=client1@example.com,client2@example.com
# YANDEX_MAIL_WHITELIST=

# Ключевые слова в теме письма (опционально, через запятую)
# Если указаны, обрабатываются только письма с этими словами в теме
# Пример: YANDEX_MAIL_SUBJECT_KEYWORDS=заказ,order,товар
# YANDEX_MAIL_SUBJECT_KEYWORDS=

# ===========================================
# Безопасность (для будущих этапов)
# ===========================================
# API Key для защиты endpoints (опционально)
# API_KEY=your-secret-api-key-here

# JWT Secret (для будущей аутентификации)
# JWT_SECRET=your-jwt-secret-key-here
